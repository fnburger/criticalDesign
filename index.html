<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Critical Design Blog</title>
        <link rel="stylesheet" href="style.css">
    </head>

    <body>
        <div id="app">
            <header>
                <div class="menu-button">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <div class="logo">Group Name</div>
                <div class="status">STATUS: STILL NORMAL</div>
                <div class="time">T-MINUS 03:00:00</div>
            </header>

            <main>
                <div class="grid-lines"></div>
                <div id="post-content"></div>
            </main>

            <aside>
                <div class="data-section">
                    <h3>BLOG POSTS</h3>
                    <ul>
                        <!-- TODO add new posts to the menu list -->
                        <!-- <li onclick="loadPost(2)">Third post - 2025-03-18</li> -->
                        <!-- <li onclick="loadPost(1)">Second post - 2025-03-09</li> -->
                        <li onclick="loadPost(0)">Pictures - 2025-03-14</li>
                    </ul>
                </div>
                <div class="data-panel">
                    <div class="data-section">
                        <h3>CRITICAL DESIGN</h3>
                        <div class="status-bar">
                            <div class="status-fill"></div>
                        </div>
                        <div class="data-grid">
                            <div class="data-item">
                                <span class="data-label">SEMESTER:</span>
                                <span class="data-value">SS25</span>
                            </div>
                            <div class="data-item">
                                <span class="data-label">GROUP:</span>
                                <span class="data-value">Group Name</span>
                            </div>
                            <div class="data-item">
                                <span class="data-label">PEOPLE:</span>
                                <span class="data-value">4</span>
                            </div>
                            <div class="data-item">
                                <span class="data-label">BLOG POSTS:</span>
                                <span class="data-value" id="numberOfPosts">0</span>
                            </div>
                        </div>
                        <div class="warning">WARNING: UNUSUAL ENERGY SIGNATURE
                            DETECTED</div>
                    </div>

                    <div class="data-section">
                        <h3>CONFIGURATION</h3>
                        <div class="hexagon-grid">
                            <div class="hexagon active"></div>
                            <div class="hexagon"></div>
                            <div class="hexagon active"></div>
                            <div class="hexagon"></div>
                            <div class="hexagon active"></div>
                        </div>
                        <div class="data-grid">
                            <div class="data-item">
                                <span class="data-label">SYNC:</span>
                                <span class="data-value">84.3%</span>
                            </div>
                            <div class="data-item">
                                <span class="data-label">HARMONIC:</span>
                                <span class="data-value">NORMAL</span>
                            </div>
                            <div class="data-item">
                                <span class="data-label">WAVE:</span>
                                <span class="data-value">PATTERN-A</span>
                            </div>
                            <div class="data-item">
                                <span class="data-label">MODE:</span>
                                <span class="data-value">OBSERVATION</span>
                            </div>
                        </div>
                    </div>

                    <div class="data-section">
                        <h3>TERMINAL</h3>
                        <div class="terminal">
                            <div class="terminal-content">
                                0xFF872A > INITIALIZING SCAN SEQUENCE <br>
                                0xFF872B > CALIBRATING SENSORS <br>
                                0xFF872C > ADJUSTING FOR ATMOSPHERIC <br>
                                INTERFERENCE <br>
                                0xFF872D > DEPLOYING DETECTION GRID <br>
                                0xFF872E > SCANNING... 17% <br>
                                0xFF872F > SCANNING... 34% <br>
                                0xFF8730 > SCANNING... 52% <br>
                                0xFF8731 > SCANNING... 68% <br>
                                0xFF8732 > SCANNING... 85% <br>
                                0xFF8733 > SCANNING... 99% <br>
                                0xFF8734 > SCAN COMPLETE <br>
                                0xFF8735 > ANALYZING RESULTS <br>
                                0xFF8736 > PATTERN MATCH: BLUE <br>
                                0xFF8737 > ALERT LEVEL: YELLOW <br>
                                0xFF8738 > INITIATING SECONDARY SCAN <br>
                                0xFF8739 > SYNCHRONIZING WITH MAGI <br>
                                0xFF873A > CALCULATING TRAJECTORY <br>
                                0xFF873B > PROJECTION: 87% ACCURACY <br>
                                0xFF873C > CORE DETECTED <br>
                                0xFF873D > UNUSUAL ENERGY SIGNATURE FOUND <br>
                                0xFF873E > CROSS-REFERENCING DATABASE <br>
                                0xFF873F > NO MATCHES FOUND <br>
                                0xFF8740 > AWAITING INSTRUCTIONS <br>
                            </div>
                        </div>
                    </div>
                </div>
            </aside>

            <footer>
                <div class="command-line">
                    <span class="command-prompt">CMD></span>
                    <input type="text" class="command-input" placeholder="ENTER COMMAND" value="cd CRITICAL DESIGN">
                </div>
            </footer>

            <div class="overlay"></div>
        </div>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

        <script>
            const app = document.getElementById('app');
            const posts = [
                {
                    title: "Pictures",
                    date: "2025-03-14",
                    content: "<img src='img/bauhaus.jpg'><img src='img/paris.jpg'> <img src='img/vienna.jpg'> <img src='img/sigma.jpg'> <img src='img/aviator.png'> <img src='img/electric state 1.png'> <img src='img/electric state.jpg'> <img src='img/liberty.png'> <img src='img/kyoto.jpg'> <img src='img/luxemburg.jpg'> <img src='img/sand.jpg'> <img src='img/shadows.jpg'>"
                },
                // TODO: add new posts here
            ];

            function loadPost(index) {
                const post = posts[index];
                document.getElementById('post-content').innerHTML = `
                    <h2>${post.title}</h2>
                    <p><small>${post.date}</small></p>
                    ${post.content}
                    `;
                if (app.classList.contains('menu-open')) {
                    app.classList.remove('menu-open');
                }
            }

            // Load the latest post by default
            loadPost(posts.length - 1);

            // Set number of posts
            document.getElementById('numberOfPosts').innerHTML = posts.length;

            // Create grid lines
            const gridLines = document.querySelector('.grid-lines');
            for (let i = 1; i < 10; i++) {
                const hLine = document.createElement('div');
                hLine.classList.add('h-line');
                hLine.style.top = `${i * 10}%`;
                gridLines.appendChild(hLine);

                const vLine = document.createElement('div');
                vLine.classList.add('v-line');
                vLine.style.left = `${i * 10}%`;
                gridLines.appendChild(vLine);
            }

            // Random hexagon activation
            const hexagons = document.querySelectorAll('.hexagon');
            setInterval(() => {
                const randomIndex = Math.floor(Math.random() * hexagons.length);
                hexagons[randomIndex].classList.toggle('active');
            }, 2000);

            // Update time display
            const timeDisplay = document.querySelector('.time');
            setInterval(() => {
                const currentTime = timeDisplay.textContent;
                const timeParts = currentTime.replace('T-MINUS ', '').split(':');
                let hours = parseInt(timeParts[0]);
                let mins = parseInt(timeParts[1]);
                let secs = parseInt(timeParts[2]);

                secs -= 1;
                if (secs < 0) {
                    secs = 59;
                    mins -= 1;
                    if (mins < 0) {
                        mins = 59;
                        hours -= 1;
                        if (hours < 0) {
                            hours = 0;
                            mins = 0;
                            secs = 0;
                        }
                    }
                }

                const formattedTime = `${hours.toString().padStart(2, '0')}:${mins.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;
                timeDisplay.textContent = `T-MINUS ${formattedTime}`;
            }, 1000);

            // Menu toggle functionality
            const menuButton = document.querySelector('.menu-button');
            const overlay = document.querySelector('.overlay');

            menuButton.addEventListener('click', () => {
                app.classList.toggle('menu-open');
            });

            overlay.addEventListener('click', () => {
                app.classList.remove('menu-open');
            });

            // Start animation
            animate();
        </script>
    </body>

</html>